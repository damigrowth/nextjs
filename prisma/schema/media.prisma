model Media {
  id                 String    @id @default(cuid())
  publicId           String    @unique
  url                String
  secureUrl          String?
  width              Int?
  height             Int?
  format             String?
  bytes              Int?
  folder             String?
  type               MediaType @default(GENERAL)
  originalName       String?
  alt                String?
  caption            String?
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
  userId             String
  profileAvatarId    String?   @unique
  profilePortfolioId String?
  serviceMediaId     String?
  profileAvatar      Profile?  @relation("ProfileAvatar", fields: [profileAvatarId], references: [id], onDelete: Cascade)
  profilePortfolio   Profile?  @relation("ProfilePortfolio", fields: [profilePortfolioId], references: [id], onDelete: Cascade)
  serviceMedia       Service?  @relation("ServiceMedia", fields: [serviceMediaId], references: [id], onDelete: Cascade)
  user               User      @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([profileAvatarId])
  @@index([profilePortfolioId])
  @@index([serviceMediaId])
  @@index([type])
  @@index([folder])
  @@index([publicId])
  @@map("media")
}

enum MediaType {
  AVATAR
  PORTFOLIO
  SERVICE_IMAGE
  GENERAL
}
