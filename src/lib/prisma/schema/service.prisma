model Service {
  id          String @id @default(cuid())
  pid         String
  title       String
  description String

  // Taxonomies
  category    String
  subcategory String
  subdivision String
  tags        String[]

  // Pricing
  fixed            Boolean
  price            Int?    @default(0)
  /// [ServiceType]
  type             Json // Boolean fields: online, presence, oneoff, onbase, subscription, onsite
  subscriptionType String? // month or year
  duration         Int?    @default(0) // days for duration

  // Features
  /// [ServiceAddon]
  addons Json[] // title, description, price
  /// [ServiceFAQ]
  faq    Json[] // question, answer

  // Media
  /// [CloudinaryResource]
  media Json? // service media/images

  // Misc
  location String?
  featured Boolean @default(false)

  // Reviews and Rating
  rating      Float @default(0)
  reviewCount Int   @default(0)

  status    String  @default("draft") // draft, pending, published, rejected
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  reviews   Review[]
  profile   Profile  @relation(fields: [pid], references: [id], onDelete: Cascade)

  @@index([pid])
  @@index([status, featured])
  @@index([category])
  @@map("services")
}
